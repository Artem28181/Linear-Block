<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Linear Block DDNet Server</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #121212;
      color: #f0f0f0;
      transition: 0.3s;
    }
    header {
      padding: 20px;
      background: #1f1f1f;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .logo {
      font-size: 24px;
      font-weight: bold;
      color: #00ffaa;
    }
    nav button {
      margin-left: 10px;
      background: transparent;
      border: 1px solid #00ffaa;
      color: #00ffaa;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
    }
    nav button:hover {
      background: #00ffaa;
      color: #121212;
    }
    main {
      padding: 60px 20px;
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
    }
    h1 {
      font-size: 48px;
      margin-bottom: 10px;
    }
    h2 {
      margin-top: 60px;
      font-size: 28px;
    }
    .ip {
      font-size: 20px;
      color: #00ffaa;
      margin-bottom: 10px;
    }
    .ip-copy {
      background: #00ffaa;
      color: #121212;
      border: none;
      padding: 4px 10px;
      margin-left: 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .footer {
      margin-top: 60px;
      padding: 20px;
      background: #1f1f1f;
      text-align: center;
    }
    .tg-button {
      background: #0088cc;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      margin-top: 10px;
      cursor: pointer;
    }
    .tg-button:hover {
      background: #00aaff;
    }
    body.light {
      background: #f0f0f0;
      color: #121212;
    }
    body.light header,
    body.light .footer {
      background: #e0e0e0;
    }
    body.light nav button {
      border: 1px solid #006644;
      color: #006644;
    }
    body.light nav button:hover {
      background: #006644;
      color: white;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 200;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.8);
    }
    .modal-content {
      background-color: #1f1f1f;
      margin: 60px auto;
      padding: 30px 40px;
      border-radius: 10px;
      max-width: 700px;
      color: #f0f0f0;
      max-height: 80vh;
      overflow-y: auto;
      font-size: 16px;
      line-height: 1.5;
      text-align: left;
    }
    .modal-content h1,
    .modal-content h2 {
      color: #00ffaa;
    }
    .close-btn {
      float: right;
      font-size: 24px;
      font-weight: bold;
      color: #00ffaa;
      cursor: pointer;
      margin-top: -10px;
      margin-bottom: 10px;
    }
    .close-btn:hover {
      color: #00dd99;
    }
    .review {
      background: #222;
      margin-bottom: 15px;
      padding: 10px 15px;
      border-radius: 8px;
      box-shadow: 0 0 5px #00ffaa66;
    }
    .review-name {
      font-weight: bold;
      margin-bottom: 5px;
      font-size: 16px;
    }
    .review-text {
      white-space: pre-wrap;
      font-size: 14px;
      line-height: 1.4;
    }
    iframe {
      width: 100%;
      height: 520px;
      border: none;
      border-radius: 8px;
      margin-top: 20px;
      box-shadow: 0 0 10px #00ffaa66;
    }
  </style>
</head>
<body>

<header>
  <div class="logo">Linear Block</div>
  <nav>
    <button onclick="scrollToId('top')">–°–µ—Ä–≤–µ—Ä</button>
    <button onclick="scrollToId('rules')">–ü—Ä–∞–≤–∏–ª–∞</button>
    <button onclick="scrollToId('tgk')">–¢–ì–ö</button>
    <button onclick="toggleTheme()">üåì</button>
    <button onclick="openGuide()">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
    <button onclick="openReviews()">–û—Ç–∑—ã–≤—ã</button>
  </nav>
</header>

<main>
  <h1 id="top">Linear Block</h1>
  <div class="ip">
    IP: <span id="srv-ip">51.68.152.142:25860</span>
    <button class="ip-copy" onclick="copyIP()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>
  <h2>DDNet Server</h2>
  <p>
    Linear Block ‚Äî –ü–æ–º–Ω–∏—Ç–µ, –∫–∞–∫ –≤—Å–µ –±–µ—Å–∏–ª–∏—Å—å, –∫–æ–≥–¥–∞ –≤—Å–µ –±–ª–æ–∫–∞–ª–∏—Å—å –Ω–∞ –æ–±—ã—á–Ω–æ–π –∫–∞—Ä—Ç–µ Linear? –¢–µ–ø–µ—Ä—å –≤—Å—ë –∏–Ω–∞—á–µ!<br>
    –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –≤–∞–º Linear Block ‚Äî –∫–∞—Ä—Ç—É, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥–µ–ª–∞–Ω–Ω—É—é –¥–ª—è –±–ª–æ–∫–∞ –∏ PvP.<br>
    –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 (–ù—É –ø–æ—á—Ç–∏), —Ç–∞–∫ —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏–≥—Ä–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –∑–∞—Ö–æ—Ç–∏—Ç–µ!
  </p>

  <h2 id="rules">üìú –ü—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞</h2>
  <!-- –ü—Ä–∞–≤–∏–ª–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å... (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞–¥–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏) -->

  <h2 id="tgk">üì¢ –ù–∞—à Telegram-–∫–∞–Ω–∞–ª</h2>
  <p><a href="https://t.me/LinearBlock" target="_blank" rel="noopener">https://t.me/LinearBlock</a></p>
  <button class="tg-button" onclick="window.open('https://t.me/LinearBlock', '_blank')">–ü–µ—Ä–µ–π—Ç–∏ –≤ –¢–ì–ö</button>
</main>

<div class="footer">
  &copy; <span id="year"></span> Linear Block DDNet Server
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ -->
<div id="guideModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="guideTitle" aria-hidden="true">
  <div class="modal-content">
    <span class="close-btn" onclick="closeGuide()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</span>
    <h1 id="guideTitle">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å–µ—Ä–≤–µ—Ä—É Linear Block</h1>
    <!-- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª–∫–∏ -->
    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫!</p>
    <!-- –û—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞... -->
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∑—ã–≤–æ–≤ -->
<div id="reviewsModal" class="modal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-content">
    <span class="close-btn" onclick="closeReviews()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</span>
    <h1>–û—Ç–∑—ã–≤—ã –∏–≥—Ä–æ–∫–æ–≤ Linear Block</h1>
    <div id="reviews-container">–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤...</div>
    <h2>–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h2>
    <iframe 
      src="https://docs.google.com/forms/d/e/1FAIpQLSfvP2MX8awIIbbJln9v1m82NUpQge2ceUtcgJp2-T0bYs62bA/viewform?embedded=true" 
      title="–§–æ—Ä–º–∞ –æ—Ç–∑—ã–≤–æ–≤">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ä–º—ã‚Ä¶
    </iframe>
  </div>
</div>

<script>
  function scrollToId(id) {
    const el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: 'smooth' });
  }

  function copyIP() {
    const ip = document.getElementById("srv-ip").innerText;
    navigator.clipboard.writeText(ip);
    alert("IP —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä!");
  }

  function toggleTheme() {
    document.body.classList.toggle("light");
  }

  function openGuide() {
    document.getElementById('guideModal').style.display = 'block';
    document.body.style.overflow = 'hidden';
  }

  function closeGuide() {
    document.getElementById('guideModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }

  function openReviews() {
    document.getElementById('reviewsModal').style.display = 'block';
    document.body.style.overflow = 'hidden';
    loadReviews();
  }

  function closeReviews() {
    document.getElementById('reviewsModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }

  async function loadReviews() {
    const container = document.getElementById('reviews-container');
    container.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤...';

    try {
      const res = await fetch('https://script.google.com/macros/s/AKfycbzAxgIBLFQ35XUm_eTMccxkY1O8aUqg34_MNCuKJF5iXX3DGh0GbqTOSsFdC8epLhlm0Q/exec');
      if (!res.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏');

      const data = await res.json();
      if (!Array.isArray(data) || data.length === 0) {
        container.innerHTML = '<p>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤.</p>';
        return;
      }

      container.innerHTML = '';

      data.forEach(item => {
        const div = document.createElement('div');
        div.className = 'review';
        const name = item.name || item.–ò–º—è || '–ê–Ω–æ–Ω–∏–º';
        const comment = item.comment || item.–û—Ç–∑—ã–≤ || '';
        div.innerHTML = `
          <div class="review-name">${sanitize(name)}</div>
          <div class="review-text">${sanitize(comment)}</div>
        `;
        container.appendChild(div);
      });

    } catch (e) {
      container.innerHTML = `<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∑—ã–≤–æ–≤: ${e.message}</p>`;
    }
  }

  function sanitize(str) {
    if (!str) return '';
    return str.replace(/[&<>"']/g, c => ({
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    })[c]);
  }

  window.onclick = function(event) {
    if (event.target === document.getElementById('guideModal')) closeGuide();
    if (event.target === document.getElementById('reviewsModal')) closeReviews();
  };

  document.getElementById("year").innerText = new Date().getFullYear();
</script>

</body>
</html>
